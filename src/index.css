@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─── Base ─── */
* { box-sizing: border-box; }

html, body, #root {
  height: 100%;
  margin: 0;
  padding: 0;
}

html { scroll-behavior: smooth; }

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: var(--t-bg);
  color: var(--t-text-1);
  overflow: hidden;
}

/* Serif headings */
.font-serif {
  font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
}

/* ─── Scrollbar ─── */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--t-border); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--t-border-light); }

/* Focus */
:focus-visible { outline: 2px solid var(--t-primary); outline-offset: 2px; }

/* Selection */
::selection { background-color: var(--t-glow); }

/* ─── Line clamp ─── */
.line-clamp-1 { display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }
.line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.line-clamp-3 { display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }

/* ─── Animations ─── */
@keyframes fadeIn  { from { opacity: 0; } to { opacity: 1; } }
@keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes slideDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes scaleIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
@keyframes waveformPulse { 0%, 100% { opacity: 1; transform: scaleY(1); } 50% { opacity: 0.5; transform: scaleY(0.5); } }
@keyframes shimmer { 0% { transform: translateX(-100%); } 100% { transform: translateX(200%); } }

.animate-fade-in  { animation: fadeIn 0.5s ease-out; }
.animate-slide-up { animation: slideUp 0.5s ease-out; animation-fill-mode: both; }

/* ─── Glass ─── */
.glass {
  background: var(--t-bg-card);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* ─── Glow ─── */
.glow { filter: drop-shadow(0 0 20px currentColor); }

/* ─── Transitions ─── */
.transition-smooth { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }

/* ─── Waveform ─── */
.waveform-bar { animation: waveformPulse 0.5s ease-in-out infinite; }

/* ─── Forms ─── */
input, textarea, select { font-family: inherit; }
input::placeholder, textarea::placeholder { color: var(--t-text-3); }
select option { background: var(--t-bg-base); color: var(--t-text-1); }

/* Audio player */
audio { filter: invert(1) hue-rotate(180deg); }
audio::-webkit-media-controls-panel { background: var(--t-bg-card); }

/* Print */
@media print { .no-print { display: none !important; } }

/* Hide scrollbar */
.scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
.scrollbar-hide::-webkit-scrollbar { display: none; }

/* Safe area */
.safe-area-bottom { padding-bottom: env(safe-area-inset-bottom, 0); }
.safe-area-top    { padding-top: env(safe-area-inset-top, 0); }

/* Touch */
@media (hover: none) and (pointer: coarse) {
  button, [role="button"], input[type="button"], input[type="submit"] { min-height: 44px; }
  .hover\:scale-105:active { transform: scale(1.02); }
  .hover\:scale-110:active { transform: scale(1.05); }
}

/* Responsive */
@media (max-width: 768px) {
  .font-serif { font-size: 0.95em; }
  input, textarea, select { font-size: 16px !important; }
}

/* Buttons */
button {
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
